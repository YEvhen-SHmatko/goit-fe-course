{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/refs.js","webpack:///./js/index.js","webpack:///./template/galleryItem.hbs"],"names":["searchForm","document","querySelector","serchInput","ul","sectionGallery","loadeMoreChecked","loadChecked","API_KEY","apiService","API_URL","page","btnMore","isLoading","refs","localStorage","getItem","checked","getListByName","name","async","fetch","result","json","createList","photoList","reduce","acc","photo","galleryItem","addBtnMore","value","insertAdjacentHTML","renderList","hits","innerHTML","loadeMore","checkedLoadeType","onScrollEvent","PNotify","alert","setItem","getBoundingClientRect","bottom","window","innerHeight","then","e","catch","error","finally","addEventListener","throttle","preventDefault","target","nodeName","console","dir","dataset","source","url","basicLightbox","create","show","Handlebars","module","exports","template","container","depth0","helpers","partials","data","propertyIsEnumerable","helper","alias2","nullContext","alias3","hooks","helperMissing","alias4","alias5","escapeExpression","webformatURL","call","tags","largeImageURL","likes","views","comments","downloads"],"mappings":"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","file":"main.27d5c7b7bed2062cc6e7.js","sourcesContent":["export default {\n    API_KEY: \"14159289-8bf2aba3df2ea92dda73ee8d1\",\n    API_URL: \"https://pixabay.com/api/\"\n  };\n\n\n\n//`${API_URL}?key=${API_KEY}&q=${searchInput}&image_type=photo`","export default {\n  searchForm: document.querySelector('.search-form__js'),\n  serchInput: document.querySelector('.search-input__js'),\n  ul: document.querySelector('.gallery__js'),\n  sectionGallery: document.querySelector('.section-gallery__js'),\n  loadeMoreChecked: document.querySelector('.toolbar'),\n  loadChecked: document.querySelector('#load-switch-control'),\n};\n","import '../css/style.css';\nimport apiService from './apiService.js';\nimport galleryItem from '../template/galleryItem.hbs';\nimport PNotify from '../../node_modules/pnotify/dist/es/PNotify.js';\nimport refs from './refs.js';\nimport throttle from 'lodash/throttle';\n\nconst { API_KEY, API_URL } = apiService;\nlet page = 1;\nlet perPage = 12;\nlet btnMore = false;\nlet isLoading = false;\n//-----// REFS //-----//\nconst {\n  searchForm,\n  serchInput,\n  ul,\n  sectionGallery,\n  loadeMoreChecked,\n  loadChecked,\n} = refs;\n\n//-----// Verification Checked last visit//-----//\n\nfunction verificationChecked() {\n  if (localStorage.getItem('Type load') === 'true') {\n    loadChecked.checked = true;\n  }\n}\nverificationChecked();\n\n//-----// Gallery Function //-----//\n\nconst getListByName = async name => {\n  const result = await fetch(\n    `${API_URL}?image_type=photo&orientation=horizontal&q=${name}&page=${page}&per_page=${perPage}&key=${API_KEY}`,\n  );\n  return await result.json();\n};\n\nconst createList = photoList => {\n  return photoList.reduce((acc, photo) => {\n    return acc + galleryItem(photo);\n  }, '');\n};\n\nconst addBtnMore = () => {\n  if (serchInput.value <= 0 || btnMore) {\n    return;\n  }\n  btnMore = true;\n  const btn = ` <button class=\"btn-more__js\">\n                    Load more\n                </button>`;\n  sectionGallery.insertAdjacentHTML('beforeend', btn);\n};\n\nconst renderList = async () => {\n  page = 1;\n  const { hits } = await getListByName(serchInput.value);\n  ul.innerHTML = createList(hits);\n};\n\nconst loadeMore = async () => {\n  page += 1;\n  const { hits } = await getListByName(serchInput.value);\n  ul.insertAdjacentHTML('beforeend', createList(hits));\n};\n\n//-----// type Download Gallery  //-----//\n\nfunction checkedLoadeType() {\n  if (loadChecked.checked) {\n    PNotify.alert('Load more of scroll!');\n    localStorage.setItem('Type load', 'true');\n    myScroll();\n  } else {\n    PNotify.alert('Load more of button!');\n    localStorage.setItem('Type load', 'false');\n    addBtnMore();\n  }\n}\n\n//-----// listener //-----//\n//---// form listener //---//\nsearchForm.addEventListener('submit', async e => {\n  e.preventDefault();\n  renderList();\n  checkedLoadeType();\n});\n\n//---// button listener //---//\nsectionGallery.addEventListener('click', async e => {\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  loadeMore();\n});\n\n//---// Type loader listener //---//\n\nloadeMoreChecked.addEventListener('click', e => {\n  if (e.target.nodeName === 'INPUT') {\n    checkedLoadeType();\n  }\n});\n\n//-----//  basicLightbox  //-----//\n\nul.addEventListener('click', e => {\n  if (e.target.nodeName !== 'IMG') {\n    return;\n  }\n  console.dir(e.target.dataset.source);\n  const url = e.target.dataset.source;\n  basicLightbox.create(`<img class=\"lightBox-IMG\" src=\"${url}\">`).show();\n});\n\n//-----// Scroll //-----//\n\nfunction myScroll() {\n  const renderAutoScroll = () => {\n    isLoading = true;\n    if (!loadChecked.checked) {\n      return;\n    }\n    loadeMore()\n      .then(e => {\n        isLoading = false;\n      })\n      .catch(error => {\n        throw error;\n      })\n      .finally(() => {\n        isLoading = false;\n      });\n  };\n  const onScrollEvent = () => {\n    if (isLoading) return;\n    const listBottom = sectionGallery.getBoundingClientRect().bottom;\n    const windowHeight = window.innerHeight;\n    if (listBottom / 2 <= windowHeight) {\n      renderAutoScroll();\n    }\n  };\n\n  function addInfinityScroll() {\n    window.addEventListener('scroll', throttle(onScrollEvent, 100));\n  }\n  addInfinityScroll();\n}\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.propertyIsEnumerable, alias2=depth0 != null ? depth0 : (container.nullContext || {}), alias3=container.hooks.helperMissing, alias4=\"function\", alias5=container.escapeExpression;\n\n  return \"<li class=\\\"photo-card\\\">\\n  <img \\n    src=\\\"\"\n    + alias5(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":9},\"end\":{\"line\":3,\"column\":27}}}) : helper)))\n    + \"\\\" \\n    alt=\\\"\"\n    + alias5(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":9},\"end\":{\"line\":4,\"column\":19}}}) : helper)))\n    + \"\\\" \\n    data-source=\\\"\"\n    + alias5(((helper = (helper = helpers.largeImageURL || (depth0 != null ? depth0.largeImageURL : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":17},\"end\":{\"line\":5,\"column\":34}}}) : helper)))\n    + \"\\\"\\n  />\\n\\n  <div class=\\\"stats\\\">\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\n      \"\n    + alias5(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":6},\"end\":{\"line\":11,\"column\":17}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">visibility</i>\\n      \"\n    + alias5(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":6},\"end\":{\"line\":15,\"column\":17}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">comment</i>\\n      \"\n    + alias5(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":6},\"end\":{\"line\":19,\"column\":20}}}) : helper)))\n    + \"\\n    </p>\\n    <p class=\\\"stats-item\\\">\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\n      \"\n    + alias5(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias3),(typeof helper === alias4 ? helper.call(alias2,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":6},\"end\":{\"line\":23,\"column\":21}}}) : helper)))\n    + \"\\n    </p>\\n  </div>\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}